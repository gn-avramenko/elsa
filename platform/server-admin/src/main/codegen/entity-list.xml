<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://vga.com/elsa/meta-web-app">
    <enum id="com.gridnine.platform.elsa.admin.web.entityList.ColumnType">
        <enum-item id="STRING"/>
        <enum-item id="NUMBER"/>
    </enum>
    <entity id="com.gridnine.platform.elsa.admin.web.entityList.ColumnDescription">
        <property id="id" type="STRING" non-nullable="true"/>
        <property id="title" type="STRING" non-nullable="true"/>
        <property id="sortable" type="BOOLEAN" non-nullable="true"/>
        <property id="width" type="INT"/>
        <property id="columnType" type="ENUM" class-name="com.gridnine.platform.elsa.admin.web.entityList.ColumnType" non-nullable="true"/>
    </entity>
    <enum id="com.gridnine.platform.elsa.admin.web.entityList.SortOrder">
        <enum-item id="ASC"/>
        <enum-item id="DESC"/>
    </enum>
    <entity id="com.gridnine.platform.elsa.admin.web.entityList.Sort">
        <property id="field" type="STRING" non-nullable="true"/>
        <property id="order" type="ENUM" class-name="com.gridnine.platform.elsa.admin.web.entityList.SortOrder" non-nullable="true"/>
    </entity>
    <entity id="com.gridnine.platform.elsa.admin.web.entityList.RowData">
        <property id="id" type="STRING" non-nullable="true"/>
        <map id="fields" key-type="STRING" value-type="STRING"/>
        <property id="mobileContent" type="STRING"/>
    </entity>
    <container class-name="com.gridnine.platform.elsa.admin.web.entityList.EntityList" managed-configuration="true">
        <commands-from-client>
            <command id="loadMore"/>
        </commands-from-client>
        <commands-from-server>
            <command id="refreshData"/>
        </commands-from-server>
        <server-managed-state>
            <collection id="columns" element-type="ENTITY" element-class-name="com.gridnine.platform.elsa.admin.web.entityList.ColumnDescription"/>
            <property id="defaultSort" type="ENTITY" class-name="com.gridnine.platform.elsa.admin.web.entityList.Sort" non-nullable="true"/>
            <property id="limit" type="INT" non-nullable="true"/>
        </server-managed-state>
        <services>
            <service id="getData">
                <request>
                    <property id="sort" type="ENTITY" class-name="com.gridnine.platform.elsa.admin.web.entityList.Sort" non-nullable="true"/>
                    <property id="limit" type="INT" non-nullable="true"/>
                    <property id="freeText" type="STRING"/>
                    <property id="breakPoint" type="ENUM" class-name="com.gridnine.platform.elsa.admin.web.common.BreakPoint" non-nullable="true"/>
                </request>
                <response>
                    <property id="hasMore" type="BOOLEAN" non-nullable="true"/>
                    <collection id="data" element-type="ENTITY" element-class-name="com.gridnine.platform.elsa.admin.web.entityList.RowData"/>
                </response>
            </service>
        </services>
    </container>
</web-app>