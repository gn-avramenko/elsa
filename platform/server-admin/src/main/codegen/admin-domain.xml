<domain xmlns="http://vga.com/elsa/meta-domain">
    <enum id="com.gridnine.platform.elsa.admin.domain.WorkspaceItemType">
        <enum-item id="LIST"/>
    </enum>
    <entity  id="com.gridnine.platform.elsa.admin.domain.BaseWorkspaceItem" abstract="true">
        <property id="name" type="STRING"/>
        <property id="icon" type="STRING"/>
    </entity>
    <entity  id="com.gridnine.platform.elsa.admin.domain.ListWorkspaceItem" extends="com.gridnine.platform.elsa.admin.domain.BaseWorkspaceItem">
        <property id="id" type="STRING"/>
    </entity>
    <entity id="com.gridnine.platform.elsa.admin.domain.LinkWorkspaceItem" extends="com.gridnine.platform.elsa.admin.domain.BaseWorkspaceItem">
        <property id="link" type="STRING" non-nullable="true"/>
    </entity>
    <entity id="com.gridnine.platform.elsa.admin.domain.WorkspaceGroup">
        <property id="name" type="STRING"/>
        <property id="icon" type="STRING"/>
        <collection id="items" element-type="ENTITY" element-class-name="com.gridnine.platform.elsa.admin.domain.BaseWorkspaceItem"/>
    </entity>
    <entity id="com.gridnine.platform.elsa.admin.domain.Workspace">
        <collection id="groups" element-type="ENTITY" element-class-name="com.gridnine.platform.elsa.admin.domain.WorkspaceGroup"/>
    </entity>
    <asset id="com.gridnine.platform.elsa.admin.domain.LoginToken">
        <property id="token" type="STRING" non-nullable="true"/>
        <property id="login" type="STRING" non-nullable="true"/>
        <property id="created" type="INSTANT" non-nullable="true"/>
    </asset>
    <entity id="com.gridnine.platform.elsa.admin.domain.AclAction">
        <property id="id" type="STRING" non-nullable="true"/>
        <property id="value" type="ENTITY" class-name="Object"/>
    </entity>
    <enum id="com.gridnine.platform.elsa.admin.domain.AclConditionType">
        <enum-item id="SIMPLE"/>
        <enum-item id="OR"/>
        <enum-item id="NOT"/>
        <enum-item id="AND"/>
    </enum>
    <entity id="com.gridnine.platform.elsa.admin.domain.AclCondition">
        <property id="propertyId" type="STRING"/>
        <property id="conditionId" type="STRING"/>
        <property id="conditionType" type="ENUM" class-name="com.gridnine.platform.elsa.admin.domain.AclConditionType" non-nullable="true"/>
        <property id="value" type="ENTITY" class-name="Object"/>
        <collection element-type="ENTITY" id="nestedConditions" element-class-name="com.gridnine.platform.elsa.admin.domain.AclCondition"/>
    </entity>
    <entity id="com.gridnine.platform.elsa.admin.domain.AclRule">
        <collection id="conditions" element-type="ENTITY" element-class-name="com.gridnine.platform.elsa.admin.domain.AclCondition"/>
        <collection id="actions" element-type="ENTITY" element-class-name="com.gridnine.platform.elsa.admin.domain.AclAction"/>
    </entity>
    <entity id="com.gridnine.platform.elsa.admin.domain.BooleanValueWrapper">
        <property id="value" type="BOOLEAN" non-nullable="true"/>
    </entity>
    <enum id="com.gridnine.platform.elsa.admin.domain.RestrictionType">
        <enum-item id="SIMPLE"/>
        <enum-item id="OR"/>
        <enum-item id="NOT"/>
        <enum-item id="AND"/>
    </enum>
    <entity id="com.gridnine.platform.elsa.admin.domain.EntityReferenceWrapper">
        <property id="id" type="STRING"/>
        <property id="displayName" type="STRING"/>
    </entity>
    <entity id="com.gridnine.platform.elsa.admin.domain.EntityReferenceRestrictionValue">
        <collection id="values" element-type="ENTITY" element-class-name="com.gridnine.platform.elsa.admin.domain.EntityReferenceWrapper"/>
    </entity>
    <entity id="com.gridnine.platform.elsa.admin.domain.Restriction">
        <property id="restrictionType" type="ENUM" class-name="com.gridnine.platform.elsa.admin.domain.RestrictionType"/>
        <property id="propertyId" type="STRING" />
        <property id="conditionId" type="STRING"/>
        <property id="value" type="ENTITY" class-name="Object"/>
        <collection id="nestedRestrictions" element-type="ENTITY" element-class-name="com.gridnine.platform.elsa.admin.domain.Restriction"/>
    </entity>
    <entity id="com.gridnine.platform.elsa.admin.domain.RestrictionsValueWrapper">
        <collection id="restrictions" element-type="ENTITY" element-class-name="com.gridnine.platform.elsa.admin.domain.Restriction"/>
    </entity>
    <entity id="com.gridnine.platform.elsa.admin.domain.AclEntry">
        <property id="id" type="STRING"/>
        <collection id="rules" element-type="ENTITY" element-class-name="com.gridnine.platform.elsa.admin.domain.AclRule"/>
    </entity>
</domain>